#+STARTUP: showall

* emacs-w3m - ウェブブラウザ
=w3m= 自体が別途インストールされている必要があります。
未インストールの場合は何もしません。

#+BEGIN_SRC emacs-lisp
(when (executable-find "w3m")           ; w3m がある場合
  (eval-and-compile (require 'w3m-load))
  (defun w3m-google-search (word)
    "Google 検索を実行します。"
    (interactive "sSearch Word: ")
    (w3m-browse-url (concat "http://www.google.co.jp/search?hl=ja&q=" word)))
  (global-set-key (kbd "C-x <f3>") 'w3m-google-search)
  (defun w3m-alc-search (word)
    "Space ALC での検索を実行します。"
    (interactive "sSearch Word: ")
    (w3m-browse-url (concat "http://eow.alc.co.jp/search?q=" word)))
  (global-set-key (kbd "C-x <f4>") 'w3m-alc-search)
  (custom-set-variables
   ;; タブブラウズを利用する
   '(w3m-use-tab t)
   ;; w3m 用のディレクトリ
   `(w3m-profile-directory ,(concat user-emacs-directory "emacs-w3m")))
  (eval-after-load 'w3m
    #'(progn
        ;; 次のページへ進む
        (define-key w3m-mode-map (kbd "M-<right>") #'w3m-view-next-page)
        ;; 前のページへ戻る
        (define-key w3m-mode-map (kbd "M-<left>") #'w3m-view-previous-page)
        ;; 次のタブ
        (define-key w3m-mode-map (kbd "C-M-.") #'w3m-tab-next-buffer)
        (define-key w3m-mode-map (kbd "C-M-<right>") #'w3m-tab-next-buffer)
        ;; 前のタブ
        (define-key w3m-mode-map (kbd "C-M-,") #'w3m-tab-previous-buffer)
        (define-key w3m-mode-map (kbd "C-M-<left>") #'w3m-tab-previous-buffer)
        ;; 新しいタブを開く
        (define-key w3m-mode-map (kbd "M-t") #'w3m-goto-url-new-session))))
#+END_SRC
